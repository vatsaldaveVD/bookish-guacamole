<!DOCTYPE html>
<html lang="en">

<head>
  <style>
    :root {
      --no_of_user_addons: 5;
      --total_user_addons: 6;
    }

    #form-wrapper {
      width: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    form {
      width: 100%;
      max-width: 1024px;
    }

    form #form-title {
      margin-top: 0;
      font-weight: 400;
      text-align: center;
    }

    form #user-amount-slider {
      display: flex;
      flex-direction: row;
      align-content: stretch;
      position: relative;
      width: 100%;
      height: 150px;
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
    }

    form #user-amount-slider::before {
      content: " ";
      position: absolute;
      height: 12px;
      width: 100%;
      width: calc(100% * (var(--no_of_user_addons) / var(--total_user_addons)) + 35px);
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: #e4e9f5;
      border-radius: 30px;
    }

    form #user-amount-slider .user-addon-input,
    form #user-amount-slider .user-addon-label {
      box-sizing: border-box;
      flex: 1;
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
      cursor: pointer;
      text-align: center;
    }

    form #user-amount-slider .user-addon-label:first-of-type::after,
    form #user-amount-slider .user-addon-label:last-of-type::after {
      border: 1px solid transparent;
      background: transparent;
    }

    form #user-amount-slider .user-addon-label {
      display: inline-block;
      position: relative;
      width: 20%;
      height: 100%;
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
    }

    form #user-amount-slider .user-addon-label::before {
      content: attr(data-user-amount);
      position: absolute;
      left: 50%;
      padding-top: 10px;
      transform: translate(-50%, 45px);
      font-size: 14px;
      letter-spacing: 0.4px;
      font-weight: 400;
      white-space: nowrap;
      opacity: 0.85;
      transition: all 0.15s ease-in-out;
    }

    form #user-amount-slider .user-addon-label::after {
      content: " ";
      position: absolute;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      width: 12px;
      height: 12px;
      border: 3px solid #a5aec2;
      border-radius: 50%;
      pointer-events: none;
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
      z-index: 1;
      cursor: pointer;
      transition: all 0.15s ease-in-out;
    }

    form #user-amount-slider .user-addon-input {
      display: none;
    }

    form #user-amount-slider .user-addon-input:checked+.user-addon-label::before {
      font-weight: 800;
      opacity: 1;
    }

    form #user-amount-slider .user-addon-input:checked+.user-addon-label::after {
      display: none;
      /* border-width: 4px;
      transform: translate(-50%, -50%) scale(0.75); */
    }

    form #user-amount-slider .user-addon-input:checked~#user-amount-pos {
      opacity: 1;
      background: url('https://uploads-ssl.webflow.com/62d539593504f114702c1995/63158a72258fbb15e1fe68c8_pricing_emoji_person_computer.png');
      background-repeat: no-repeat !important;
      background-size: 100% 100% !important;
      width: 36px;
      height: 36px;
    }

    /* form #user-amount-slider .user-addon-input:checked:nth-child(1)~#user-amount-pos {
      left: 8%;
    } */

    /* form #user-amount-slider .user-addon-input:checked:nth-child(3)~#user-amount-pos {
      left: 25%;
    } */

    /* form #user-amount-slider .user-addon-input:checked:nth-child(5)~#user-amount-pos {
      left: 41%;
    } */

    /* form #user-amount-slider .user-addon-input:checked:nth-child(7)~#user-amount-pos {
      left: 58%;
    } */

    /* form #user-amount-slider .user-addon-input:checked:nth-child(9)~#user-amount-pos {
      left: 76%;
    } */

    /* form #user-amount-slider .user-addon-input:checked:nth-child(11)~#user-amount-pos {
      background: url('https://uploads-ssl.webflow.com/62d539593504f114702c1995/63158a71bfb65aab748a107a_pricing_emoji_settings.png');
      left: 92%;
    } */

    form #user-amount-slider #user-amount-pos {
      display: block;
      position: absolute;
      top: 50%;
      transition: all 0.15s ease-in-out;
      transform: translate(-50%, -50%);
      opacity: 1;
      z-index: 2;
    }

    form:valid #user-amount-slider .user-addon-input+.user-addon-label::before {
      transform: translate(-50%, 45px) scale(0.9);
      transition: all 0.15s linear;
    }

    form:valid #user-amount-slider .user-addon-input:checked+.user-addon-label::before {
      transform: translate(-50%, 45px) scale(1.1);
      transition: all 0.15s linear;
    }

    form+button {
      display: block;
      position: relative;
      margin: 56px auto 0;
      padding: 10px 20px;
      -webkit-appearance: none;
      -moz-appearance: none;
      appearance: none;
      transition: all 0.15s ease-in-out;
      font-family: inherit;
      font-size: 24px;
      font-weight: 600;
      background: #fff;
      border: 2px solid #000;
      border-radius: 8px;
      outline: 0;
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
      cursor: pointer;
    }

    form+button:hover {
      background: #000;
      color: #fff;
    }

    form+button:hover:active {
      transform: scale(0.9);
    }

    form+button:focus {
      background: #4caf50;
      border-color: #4caf50;
      color: #fff;
      pointer-events: none;
    }

    form+button:focus::before {
      -webkit-animation: spin 1s linear infinite;
      animation: spin 1s linear infinite;
    }

    form+button::before {
      display: inline-block;
      width: 0;
      opacity: 0;
      font-weight: 900;
      margin-right: 0;
      transform: rotate(0deg);
    }

    form:invalid+button {
      pointer-events: none;
      opacity: 0.25;
    }

    @-webkit-keyframes spin {
      from {
        transform: rotate(0deg);
        width: 24px;
        opacity: 1;
        margin-right: 12px;
      }

      to {
        transform: rotate(360deg);
        width: 24px;
        opacity: 1;
        margin-right: 12px;
      }
    }

    @keyframes spin {
      from {
        transform: rotate(0deg);
        width: 24px;
        opacity: 1;
        margin-right: 12px;
      }

      to {
        transform: rotate(360deg);
        width: 24px;
        opacity: 1;
        margin-right: 12px;
      }
    }

    .user-info-container {
      height: 100%;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }

    .user-count {
      font-size: 22px;
      line-height: 24px;
      text-align: center;
      font-weight: 600;
      font-family: 'Roobert TRIAL', sans-serif;

      color: #546285;

      padding-top: 20px;
    }

    .user-slider-price {
      color: #2D3958;

      font-family: 'Roobert TRIAL', sans-serif;
      font-size: 26px;
      font-weight: 600;
      line-height: 24px;
      text-align: center;

      margin-bottom: 8px;
    }

    .user-slider-price-description {
      font-family: 'Roobert TRIAL', sans-serif;

      font-size: 18px;
      font-weight: 600;
      line-height: 24px;
      text-align: center;
      color: #1E8A5E;
    }

    .user-slider-price-description.text-gray {
      color: #2D395880;
    }

    .user-slider-amount-info-wrapper {
      margin-top: 70px;
    }

    .visiblility-hidden {
      visibility: hidden;
    }

    .main-card-wrapper {
      margin-top: 50px;
    }

    .button {
      position: relative;
      padding: 8px 16px;
      background: #009579;
      border: none;
      outline: none;
      border-radius: 2px;
      cursor: pointer;

      font: bold 20px "Quicksand", san-serif;
      color: #ffffff;
    }

    .button:active {
      background: #007a63;
    }
  </style>

  <script type="text/javascript">
    let userAddonObject = [
      {
        users: 1,
        user_count_text: '1 User',
        price: '$129',
        description: 'No Discount',
        image_url: 'https://uploads-ssl.webflow.com/62d539593504f114702c1995/63158a72258fbb15e1fe68c8_pricing_emoji_person_computer.png'
      },
      {
        users: 2,
        user_count_text: '2 User',
        price: '$229',
        description: '5% OFF',
        image_url: 'https://uploads-ssl.webflow.com/62d539593504f114702c1995/63158a7164bb4e2da7ab51d4_pricing_emoji_car.png'
      },
      {
        users: 3,
        user_count_text: '3 User',
        price: '$349',
        description: '10% OFF',
        image_url: 'https://uploads-ssl.webflow.com/62d539593504f114702c1995/63158a716f7b0e3e50e142f2_pricing_emoji_ship.png'
      },
      {
        users: 4,
        user_count_text: '4 User',
        price: '$449',
        description: '15% OFF',
        image_url: 'https://uploads-ssl.webflow.com/62d539593504f114702c1995/63158a7164bb4eb9d4ab51d5_pricing_emoji_plane.png'
      },
      {
        users: 5,
        user_count_text: '5 User',
        price: '$499',
        description: '20% OFF',
        image_url: 'https://uploads-ssl.webflow.com/62d539593504f114702c1995/63158a701424853c75b80859_pricing_emoji_rocket.png'
      },
    ];
    var customPlanObject = {
      users: userAddonObject.length + 1,
      user_count_text: (userAddonObject.length + 1) + '+ User',
      price: '',
      description: 'Custom',
      image_url: 'https://uploads-ssl.webflow.com/62d539593504f114702c1995/63158a71bfb65aab748a107a_pricing_emoji_settings.png'
    };
  </script>
</head>

<body>
  <div id="form-wrapper">
    <form method="GET">
      <div id="user-amount-slider" data-user-amount="6">
      </div>
    </form>

    <div class="main-card-wrapper">
      <button class="button" id="get-started-button">
        Get Started
      </button>
    </div>
  </div>


  <script type="text/javascript">
    document.documentElement.style.setProperty('--no_of_user_addons', userAddonObject.length)
    document.documentElement.style.setProperty('--total_user_addons', userAddonObject.length + 1)

    userAddonObject.forEach((addonObject, index) => {
      document.getElementById('user-amount-slider').innerHTML += `
      <input type="radio" class="user-addon-input" data-cke-saved-name="user-amount" name="user-addon" id="${addonObject.users}"
          value="${addonObject.users}" required ${index == 0 ? 'checked' : ''} />
        <label for="${addonObject.users}" class="user-addon-label">
          <div class="user-info-container">
            <div class="user-count">${addonObject.user_count_text}</div>
            <div class="user-slider-amount-info-wrapper">
              <div class="user-slider-price">${addonObject.price}</div>
              <div class="user-slider-price-description ${index == 0 ? 'text-gray' : ''}">${addonObject.description}</div>
            </div>
          </div>
        </label>
        `
    });
    document.getElementById('user-amount-slider').innerHTML += `
      <input type="radio" class="user-addon-input" data-cke-saved-name="user-amount" name="user-addon" id="${customPlanObject.users}"
          value="${customPlanObject.users}" required />
        <label for="${customPlanObject.users}" class="user-addon-label">
          <div class="user-info-container">
            <div class="user-count">${customPlanObject.user_count_text}</div>
            <div class="user-slider-amount-info-wrapper">
              <div class="user-slider-price-description text-gray">${customPlanObject.description}</div>
              <div class="user-slider-price visiblility-hidden">${customPlanObject.price}</div>
            </div>
          </div>
        </label>
        `

    let dynamicPictureChange = document.createElement('div');
    dynamicPictureChange.setAttribute('id', 'user-amount-pos');
    document.getElementById('user-amount-slider').appendChild(dynamicPictureChange);

    userAddonObject.forEach((object, index, arrayOfUsers) => {

      // console.log("ðŸš€ line 123", (index + 1),
      //   Math.floor(100 / (arrayOfUsers.length + 1)),
      //   Math.ceil((100 / (arrayOfUsers.length + 1)) / 2),
      //   '- Total: ', ((index + 1) * Math.ceil(100 / (arrayOfUsers.length + 1)) - Math.ceil((100 / (arrayOfUsers.length + 1)) / 2)))

      document.body.insertAdjacentHTML("beforeend", `
      <style>
        form #user-amount-slider .user-addon-input:checked:nth-child(${index + (index + 1)})~#user-amount-pos {
          background: url(${object.image_url});
          left: ${((index + 1) * Math.ceil(100 / (arrayOfUsers.length + 1)) - Math.ceil((100 / (arrayOfUsers.length + 1)) / 2)) - Math.ceil((arrayOfUsers.length) / 2 >= index ? 0 : 1)}%;
        }
      </style>`)
    })

    document.body.insertAdjacentHTML("beforeend", `
    <style>
      form #user-amount-slider .user-addon-input:checked:nth-child(${userAddonObject.length + (userAddonObject.length + 1)})~#user-amount-pos {
          background: url(${customPlanObject.image_url});
          left: ${((userAddonObject.length + 1) * Math.ceil(100 / (userAddonObject.length + 1)) - Math.ceil((100 / (userAddonObject.length + 1)) / 2))}%;
      }
    </style>`)

  </script>
</body>

</html>
